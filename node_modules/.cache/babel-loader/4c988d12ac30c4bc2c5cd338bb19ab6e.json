{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Box } from \"../../primitives\";\nimport { Layer } from \"../../utils\";\nimport { Toast } from \"./toast\";\nimport { ToastContext } from \"./toastContext\";\nconst Root = styled(Layer)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n`;\nconst ToastContainer = styled.div`\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  max-width: 420px;\n  width: 100%;\n`;\nlet toastId = 0;\n\nfunction ToastProvider(props) {\n  const {\n    children,\n    padding = 4,\n    paddingX,\n    paddingY,\n    zOffset\n  } = props;\n  const [state, setState] = useState({\n    toasts: []\n  });\n  const toastsRef = useRef({});\n  const push = useCallback(params => {\n    const id = params.id || String(toastId++);\n    const duration = params.duration || 5e3;\n\n    const dismiss = () => {\n      var _a;\n\n      const timeoutId = (_a = toastsRef.current[id]) == null ? void 0 : _a.timeoutId;\n      setState(prevState => {\n        const idx = prevState.toasts.findIndex(t => t.id === id);\n\n        if (idx > -1) {\n          const toasts = prevState.toasts.slice(0);\n          toasts.splice(idx, 1);\n          return __spreadProps(__spreadValues({}, prevState), {\n            toasts\n          });\n        }\n\n        return prevState;\n      });\n\n      if (timeoutId !== void 0) {\n        clearTimeout(timeoutId);\n        delete toastsRef.current[id];\n      }\n    };\n\n    setState(prevState => {\n      return __spreadProps(__spreadValues({}, prevState), {\n        toasts: prevState.toasts.filter(t => t.id !== id).concat([{\n          dismiss,\n          id,\n          params: __spreadProps(__spreadValues({}, params), {\n            duration\n          })\n        }])\n      });\n    });\n\n    if (toastsRef.current[id]) {\n      clearTimeout(toastsRef.current[id].timeoutId);\n      delete toastsRef.current[id];\n    }\n\n    toastsRef.current[id] = {\n      timeoutId: setTimeout(dismiss, duration)\n    };\n    return id;\n  }, []);\n  useEffect(() => () => {\n    for (const {\n      timeoutId\n    } of Object.values(toastsRef.current)) {\n      clearTimeout(timeoutId);\n    }\n\n    toastsRef.current = {};\n  }, []);\n  const value = useMemo(() => ({\n    version: 0,\n    push\n  }), [push]);\n  return /* @__PURE__ */React.createElement(ToastContext.Provider, {\n    value\n  }, children, /* @__PURE__ */React.createElement(Root, {\n    \"data-ui\": \"ToastProvider\",\n    zOffset\n  }, /* @__PURE__ */React.createElement(ToastContainer, null, /* @__PURE__ */React.createElement(Box, {\n    padding,\n    paddingX,\n    paddingY\n  }, /* @__PURE__ */React.createElement(AnimatePresence, {\n    initial: false\n  }, state.toasts.map(({\n    dismiss,\n    id,\n    params\n  }) => /* @__PURE__ */React.createElement(motion.div, {\n    animate: {\n      opacity: 1,\n      y: 0,\n      scale: 1\n    },\n    exit: {\n      opacity: 0,\n      scale: 0.5,\n      transition: {\n        duration: 0.2\n      }\n    },\n    initial: {\n      opacity: 0,\n      y: 32,\n      scale: 0.25\n    },\n    key: id,\n    layout: \"position\",\n    transition: {\n      type: \"spring\",\n      damping: 30,\n      stiffness: 400\n    }\n  }, /* @__PURE__ */React.createElement(Toast, {\n    closable: params.closable,\n    description: params.description,\n    onClose: dismiss,\n    status: params.status,\n    title: params.title\n  }))))))));\n}\n\nexport { ToastProvider };","map":{"version":3,"sources":["/home/ihartsykala/projects/playy/media_brouser_local_public/node_modules/@sanity/ui/lib/esm/components/toast/toastProvider.js"],"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","AnimatePresence","motion","React","useCallback","useEffect","useMemo","useRef","useState","styled","Box","Layer","Toast","ToastContext","Root","ToastContainer","div","toastId","ToastProvider","props","children","padding","paddingX","paddingY","zOffset","state","setState","toasts","toastsRef","push","params","id","String","duration","dismiss","_a","timeoutId","current","prevState","idx","findIndex","t","slice","splice","clearTimeout","filter","concat","setTimeout","values","version","createElement","Provider","initial","map","animate","opacity","y","scale","exit","transition","layout","type","damping","stiffness","closable","description","onClose","status","title"],"mappings":"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","sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Box } from \"../../primitives\";\nimport { Layer } from \"../../utils\";\nimport { Toast } from \"./toast\";\nimport { ToastContext } from \"./toastContext\";\nconst Root = styled(Layer)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n`;\nconst ToastContainer = styled.div`\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  max-width: 420px;\n  width: 100%;\n`;\nlet toastId = 0;\nfunction ToastProvider(props) {\n  const { children, padding = 4, paddingX, paddingY, zOffset } = props;\n  const [state, setState] = useState({ toasts: [] });\n  const toastsRef = useRef({});\n  const push = useCallback((params) => {\n    const id = params.id || String(toastId++);\n    const duration = params.duration || 5e3;\n    const dismiss = () => {\n      var _a;\n      const timeoutId = (_a = toastsRef.current[id]) == null ? void 0 : _a.timeoutId;\n      setState((prevState) => {\n        const idx = prevState.toasts.findIndex((t) => t.id === id);\n        if (idx > -1) {\n          const toasts = prevState.toasts.slice(0);\n          toasts.splice(idx, 1);\n          return __spreadProps(__spreadValues({}, prevState), { toasts });\n        }\n        return prevState;\n      });\n      if (timeoutId !== void 0) {\n        clearTimeout(timeoutId);\n        delete toastsRef.current[id];\n      }\n    };\n    setState((prevState) => {\n      return __spreadProps(__spreadValues({}, prevState), {\n        toasts: prevState.toasts.filter((t) => t.id !== id).concat([\n          {\n            dismiss,\n            id,\n            params: __spreadProps(__spreadValues({}, params), { duration })\n          }\n        ])\n      });\n    });\n    if (toastsRef.current[id]) {\n      clearTimeout(toastsRef.current[id].timeoutId);\n      delete toastsRef.current[id];\n    }\n    toastsRef.current[id] = { timeoutId: setTimeout(dismiss, duration) };\n    return id;\n  }, []);\n  useEffect(() => () => {\n    for (const { timeoutId } of Object.values(toastsRef.current)) {\n      clearTimeout(timeoutId);\n    }\n    toastsRef.current = {};\n  }, []);\n  const value = useMemo(() => ({ version: 0, push }), [push]);\n  return /* @__PURE__ */ React.createElement(ToastContext.Provider, {\n    value\n  }, children, /* @__PURE__ */ React.createElement(Root, {\n    \"data-ui\": \"ToastProvider\",\n    zOffset\n  }, /* @__PURE__ */ React.createElement(ToastContainer, null, /* @__PURE__ */ React.createElement(Box, {\n    padding,\n    paddingX,\n    paddingY\n  }, /* @__PURE__ */ React.createElement(AnimatePresence, {\n    initial: false\n  }, state.toasts.map(({ dismiss, id, params }) => /* @__PURE__ */ React.createElement(motion.div, {\n    animate: { opacity: 1, y: 0, scale: 1 },\n    exit: { opacity: 0, scale: 0.5, transition: { duration: 0.2 } },\n    initial: { opacity: 0, y: 32, scale: 0.25 },\n    key: id,\n    layout: \"position\",\n    transition: { type: \"spring\", damping: 30, stiffness: 400 }\n  }, /* @__PURE__ */ React.createElement(Toast, {\n    closable: params.closable,\n    description: params.description,\n    onClose: dismiss,\n    status: params.status,\n    title: params.title\n  }))))))));\n}\nexport {\n  ToastProvider\n};\n"]},"metadata":{},"sourceType":"module"}