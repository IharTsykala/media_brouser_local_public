{"ast":null,"code":"var _jsxFileName = \"/home/ihartsykala/projects/playy/media_brouser_local_public/src/components/ContainerMediaComponent/ContainerMediaComponent.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport ContainerGalleryComponent from \"../ContainerGalleryComponent/ContainerGalleryComponent\";\nimport ContainerSingleImgComponent from \"../ContainerSingleImgComponent/ContainerSingleImgComponent\";\nimport { studioTheme, ThemeProvider, Grid } from \"@sanity/ui\"; // @ts-ignore\n\nimport examplePic from \"../../assets/pictures/examplePic.png\"; // @ts-ignore\n\nimport pict2 from \"../../assets/pictures/pict2.png\"; // @ts-ignore\n\nimport pict3 from \"../../assets/pictures/pict3.png\"; // @ts-ignore\n\nimport pict4 from \"../../assets/pictures/pict4.png\";\nimport update from \"immutability-helper\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getArrayVideo } from \"../../Redux/store/video/video.actions\";\nimport getContentCards, { getArrayBlobObjects, onUploadClick } from \"../../services/functions/img\";\nimport videoService from \"../../services/api/videoService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst singleImgArrAssets = [examplePic];\nconst galleryImgArrAssets = [examplePic, pict2, pict3, pict4, examplePic, examplePic, examplePic, examplePic, examplePic];\n\nconst ContainerMediaComponent = ({\n  namePage\n}) => {\n  _s();\n\n  const [singleArrayContentCard, setSingleArrayContentCard] = useState(getContentCards(singleImgArrAssets));\n  const [galleryArrayContentCard, setGalleryArrayContentCard] = useState(getContentCards(galleryImgArrAssets));\n  const dispatch = useDispatch(); // eslint-disable-next-line react-redux/useSelector-prefer-selectors\n\n  const arrayVideo = useSelector(state => state.video).arrayVideo;\n  useEffect(() => {\n    if (namePage === \"video-list\" && (arrayVideo === null || arrayVideo === void 0 ? void 0 : arrayVideo.length)) {\n      dispatch(getArrayVideo());\n    } else {\n      (async () => {\n        await videoService.getRedirectToAllowPageService();\n      })();\n    }\n  }, [dispatch, namePage, arrayVideo]); // useEffect(() => {\n  //   if (namePage === \"video-list\" && arrayVideo?.length) {\n  //     dispatch(getArrayVideo())\n  //   }\n  // }, [dispatch, namePage, arrayVideo])\n  // for drag and drop in gallery without upload\n\n  const moveCard = useCallback((dragIndex, hoverIndex, arrayContentCard, setArrayContentCard) => {\n    const dragCard = arrayContentCard[dragIndex];\n    setArrayContentCard(update(arrayContentCard, {\n      $splice: [[dragIndex, 1], [hoverIndex, 0, dragCard]]\n    }));\n  }, []); // for drag and drop upload\n\n  const handleUploadFileDrop = useCallback((inputTargetFiles, setArrayContentCard) => {\n    if (inputTargetFiles === null || inputTargetFiles === void 0 ? void 0 : inputTargetFiles.length) {\n      const files = getArrayBlobObjects(inputTargetFiles);\n      setArrayContentCard(getContentCards(files));\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: studioTheme,\n    children: [(namePage === \"img-single\" || namePage === \"img-gallery\") && /*#__PURE__*/_jsxDEV(DndProvider, {\n      backend: HTML5Backend,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        className: \"container-img\",\n        children: [namePage === \"img-single\" && /*#__PURE__*/_jsxDEV(ContainerSingleImgComponent, {\n          singleArrayContentCard: singleArrayContentCard,\n          setSingleArrayContentCard: setSingleArrayContentCard,\n          onDrop: handleUploadFileDrop,\n          onUploadClick: onUploadClick,\n          onSelectClick: () => {}\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this), namePage === \"img-gallery\" && /*#__PURE__*/_jsxDEV(ContainerGalleryComponent, {\n          galleryArrayContentCard: galleryArrayContentCard,\n          setGalleryArrayContentCard: setGalleryArrayContentCard,\n          moveCard: moveCard,\n          onDrop: handleUploadFileDrop,\n          onUploadClick: onUploadClick,\n          onSelectClick: () => {},\n          statusViewGalleryProp: \"bigImg\",\n          namePage: namePage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), namePage === \"video-list\" && /*#__PURE__*/_jsxDEV(ContainerGalleryComponent, {\n      galleryArrayContentCard: galleryArrayContentCard,\n      setGalleryArrayContentCard: setGalleryArrayContentCard,\n      moveCard: moveCard,\n      onDrop: handleUploadFileDrop,\n      onUploadClick: onUploadClick,\n      onSelectClick: () => {},\n      statusViewGalleryProp: \"listImg\",\n      namePage: namePage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContainerMediaComponent, \"LjwDL3GZA72fNSraXE04rfA4w8Y=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = ContainerMediaComponent;\nexport default ContainerMediaComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContainerMediaComponent\");","map":{"version":3,"sources":["/home/ihartsykala/projects/playy/media_brouser_local_public/src/components/ContainerMediaComponent/ContainerMediaComponent.tsx"],"names":["React","useState","useCallback","useEffect","ContainerGalleryComponent","ContainerSingleImgComponent","studioTheme","ThemeProvider","Grid","examplePic","pict2","pict3","pict4","update","DndProvider","HTML5Backend","useDispatch","useSelector","getArrayVideo","getContentCards","getArrayBlobObjects","onUploadClick","videoService","singleImgArrAssets","galleryImgArrAssets","ContainerMediaComponent","namePage","singleArrayContentCard","setSingleArrayContentCard","galleryArrayContentCard","setGalleryArrayContentCard","dispatch","arrayVideo","state","video","length","getRedirectToAllowPageService","moveCard","dragIndex","hoverIndex","arrayContentCard","setArrayContentCard","dragCard","$splice","handleUploadFileDrop","inputTargetFiles","files"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\"\nimport ContainerGalleryComponent from \"../ContainerGalleryComponent/ContainerGalleryComponent\"\nimport ContainerSingleImgComponent from \"../ContainerSingleImgComponent/ContainerSingleImgComponent\"\nimport { studioTheme, ThemeProvider, Grid } from \"@sanity/ui\"\n// @ts-ignore\nimport examplePic from \"../../assets/pictures/examplePic.png\"\n// @ts-ignore\nimport pict2 from \"../../assets/pictures/pict2.png\"\n// @ts-ignore\nimport pict3 from \"../../assets/pictures/pict3.png\"\n// @ts-ignore\nimport pict4 from \"../../assets/pictures/pict4.png\"\nimport update from \"immutability-helper\"\nimport { DndProvider } from \"react-dnd\"\nimport { HTML5Backend } from \"react-dnd-html5-backend\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { getArrayVideo } from \"../../Redux/store/video/video.actions\"\nimport getContentCards, { getArrayBlobObjects, onUploadClick } from \"../../services/functions/img\"\nimport { InterfaceContentCard, Dispatch } from \"../../services/interfacesAndTypes/common\"\nimport { RootState } from \"../../App\"\nimport videoService from \"../../services/api/videoService\"\n\nconst singleImgArrAssets: [string] | [] = [examplePic]\nconst galleryImgArrAssets: string[] | [] = [\n  examplePic,\n  pict2,\n  pict3,\n  pict4,\n  examplePic,\n  examplePic,\n  examplePic,\n  examplePic,\n  examplePic,\n]\n\ntype ContainerImgComponentProps = {\n  namePage: string,\n}\n\nconst ContainerMediaComponent: React.FunctionComponent<ContainerImgComponentProps> = ({ namePage }) => {\n  const [singleArrayContentCard, setSingleArrayContentCard] = useState(getContentCards(singleImgArrAssets))\n  const [galleryArrayContentCard, setGalleryArrayContentCard] = useState(getContentCards(galleryImgArrAssets))\n\n  const dispatch = useDispatch()\n  // eslint-disable-next-line react-redux/useSelector-prefer-selectors\n  const arrayVideo = useSelector<RootState, {arrayVideo:[]}>((state) => state.video).arrayVideo;\n\n  useEffect(() => {\n    if (namePage === \"video-list\" && arrayVideo?.length) {\n      dispatch(getArrayVideo())\n    } else {\n      (async () => {\n        await videoService.getRedirectToAllowPageService()\n      })()     \n    }\n  }, [dispatch, namePage, arrayVideo])\n\n  // useEffect(() => {\n  //   if (namePage === \"video-list\" && arrayVideo?.length) {\n  //     dispatch(getArrayVideo())\n  //   }\n  // }, [dispatch, namePage, arrayVideo])\n\n  // for drag and drop in gallery without upload\n  const moveCard = useCallback(\n    (\n      dragIndex: number,\n      hoverIndex: number,\n      arrayContentCard: InterfaceContentCard[],\n      setArrayContentCard: Dispatch<InterfaceContentCard[]>\n    ) => {\n      const dragCard = arrayContentCard[dragIndex]\n\n      setArrayContentCard(\n        update(arrayContentCard, {\n          $splice: [\n            [dragIndex, 1],\n            [hoverIndex, 0, dragCard],\n          ],\n        })\n      )\n    },\n    []\n  )\n\n  // for drag and drop upload\n  const handleUploadFileDrop = useCallback(\n    (inputTargetFiles, setArrayContentCard: Dispatch<InterfaceContentCard[]>) => {\n      if (inputTargetFiles?.length) {\n        const files = getArrayBlobObjects(inputTargetFiles)\n        setArrayContentCard(getContentCards(files))\n      }\n    },\n    []\n  )\n\n  return (\n    <ThemeProvider theme={studioTheme}>\n      {(namePage === \"img-single\" || namePage === \"img-gallery\") && (\n        <DndProvider backend={HTML5Backend}>\n          <Grid className={\"container-img\"}>\n            {namePage === \"img-single\" && (\n              <ContainerSingleImgComponent\n                singleArrayContentCard={singleArrayContentCard}\n                setSingleArrayContentCard={setSingleArrayContentCard}\n                onDrop={handleUploadFileDrop}\n                onUploadClick={onUploadClick}\n                onSelectClick={() => {}}\n              />\n            )}\n            {namePage === \"img-gallery\" && (\n              <ContainerGalleryComponent\n                galleryArrayContentCard={galleryArrayContentCard}\n                setGalleryArrayContentCard={setGalleryArrayContentCard}\n                moveCard={moveCard}\n                onDrop={handleUploadFileDrop}\n                onUploadClick={onUploadClick}\n                onSelectClick={() => {}}\n                statusViewGalleryProp={\"bigImg\"}\n                namePage={namePage}\n              />\n            )}\n          </Grid>\n        </DndProvider>\n      )}\n      {namePage === \"video-list\" && (\n        <ContainerGalleryComponent\n          galleryArrayContentCard={galleryArrayContentCard}\n          setGalleryArrayContentCard={setGalleryArrayContentCard}\n          moveCard={moveCard}\n          onDrop={handleUploadFileDrop}\n          onUploadClick={onUploadClick}\n          onSelectClick={() => {}}\n          statusViewGalleryProp={\"listImg\"}\n          namePage={namePage}\n        />\n      )}\n    </ThemeProvider>\n  )\n}\n\nexport default ContainerMediaComponent\n"]},"metadata":{},"sourceType":"module"}