{"ast":null,"code":"\"use strict\";\n/**\n * Weird \"map\" polyfill, that's weak if possible\n */\n\nmodule.exports = typeof WeakMap === 'function' ? HappyMap : SadMap; // Happy path! Fakes a `clear()` if possible (noop)\n\nfunction HappyMap() {\n  this.map = new WeakMap();\n}\n\nHappyMap.prototype.has = function (key) {\n  return this.map.has(key);\n};\n\nHappyMap.prototype.set = function (key, value) {\n  this.map.set(key, value);\n  return this;\n};\n\nHappyMap.prototype.get = function (key) {\n  return this.map.get(key);\n};\n\nHappyMap.prototype.clear = function () {// intentional noop, since we dont need to/cant clear\n}; // Sad path! Use less stylish approach\n\n\nfunction SadMap() {\n  this.keys = [];\n  this.values = [];\n}\n\nSadMap.prototype.has = function (key) {\n  return this.keys.indexOf(key) !== -1;\n};\n\nSadMap.prototype.set = function (key, value) {\n  var index = this.keys.indexOf(key);\n\n  if (index === -1) {\n    this.keys.push(key);\n    this.values.push(value);\n  } else {\n    this.values[index] = value;\n  }\n\n  return this;\n};\n\nSadMap.prototype.get = function (key) {\n  var index = this.keys.indexOf(key);\n  return index === -1 ? undefined : this.values[index];\n};\n\nSadMap.prototype.clear = function () {\n  this.keys = [];\n  this.values = [];\n};","map":{"version":3,"sources":["../src/map.js"],"names":["module","HappyMap","SadMap","index"],"mappings":";AAAA;AACA;AACA;;AACAA,MAAM,CAANA,OAAAA,GAAiB,OAAA,OAAA,KAAA,UAAA,GAAA,QAAA,GAAjBA,MAAAA,C,CAEA;;AACA,SAAA,QAAA,GAAoB;AAClB,OAAA,GAAA,GAAW,IAAX,OAAW,EAAX;AACD;;AAEDC,QAAQ,CAARA,SAAAA,CAAAA,GAAAA,GAAyB,UAAA,GAAA,EAAe;AACtC,SAAO,KAAA,GAAA,CAAA,GAAA,CAAP,GAAO,CAAP;AADFA,CAAAA;;AAIAA,QAAQ,CAARA,SAAAA,CAAAA,GAAAA,GAAyB,UAAA,GAAA,EAAA,KAAA,EAAsB;AAC7C,OAAA,GAAA,CAAA,GAAA,CAAA,GAAA,EAAA,KAAA;AACA,SAAA,IAAA;AAFFA,CAAAA;;AAKAA,QAAQ,CAARA,SAAAA,CAAAA,GAAAA,GAAyB,UAAA,GAAA,EAAe;AACtC,SAAO,KAAA,GAAA,CAAA,GAAA,CAAP,GAAO,CAAP;AADFA,CAAAA;;AAIAA,QAAQ,CAARA,SAAAA,CAAAA,KAAAA,GAA2B,YAAY,CACrC;AADFA,CAAAA,C,CAIA;;;AACA,SAAA,MAAA,GAAkB;AAChB,OAAA,IAAA,GAAA,EAAA;AACA,OAAA,MAAA,GAAA,EAAA;AACD;;AAEDC,MAAM,CAANA,SAAAA,CAAAA,GAAAA,GAAuB,UAAA,GAAA,EAAe;AACpC,SAAO,KAAA,IAAA,CAAA,OAAA,CAAA,GAAA,MAA2B,CAAlC,CAAA;AADFA,CAAAA;;AAIAA,MAAM,CAANA,SAAAA,CAAAA,GAAAA,GAAuB,UAAA,GAAA,EAAA,KAAA,EAAsB;AAC3C,MAAMC,KAAK,GAAG,KAAA,IAAA,CAAA,OAAA,CAAd,GAAc,CAAd;;AACA,MAAIA,KAAK,KAAK,CAAd,CAAA,EAAkB;AAChB,SAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,SAAA,MAAA,CAAA,IAAA,CAAA,KAAA;AAFF,GAAA,MAGO;AACL,SAAA,MAAA,CAAA,KAAA,IAAA,KAAA;AACD;;AACD,SAAA,IAAA;AARFD,CAAAA;;AAWAA,MAAM,CAANA,SAAAA,CAAAA,GAAAA,GAAuB,UAAA,GAAA,EAAe;AACpC,MAAMC,KAAK,GAAG,KAAA,IAAA,CAAA,OAAA,CAAd,GAAc,CAAd;AACA,SAAOA,KAAK,KAAK,CAAVA,CAAAA,GAAAA,SAAAA,GAA2B,KAAA,MAAA,CAAlC,KAAkC,CAAlC;AAFFD,CAAAA;;AAKAA,MAAM,CAANA,SAAAA,CAAAA,KAAAA,GAAyB,YAAY;AACnC,OAAA,IAAA,GAAA,EAAA;AACA,OAAA,MAAA,GAAA,EAAA;AAFFA,CAAAA","sourcesContent":["/**\n * Weird \"map\" polyfill, that's weak if possible\n */\nmodule.exports = typeof WeakMap === 'function' ? HappyMap : SadMap\n\n// Happy path! Fakes a `clear()` if possible (noop)\nfunction HappyMap() {\n  this.map = new WeakMap()\n}\n\nHappyMap.prototype.has = function (key) {\n  return this.map.has(key)\n}\n\nHappyMap.prototype.set = function (key, value) {\n  this.map.set(key, value)\n  return this\n}\n\nHappyMap.prototype.get = function (key) {\n  return this.map.get(key)\n}\n\nHappyMap.prototype.clear = function () {\n  // intentional noop, since we dont need to/cant clear\n}\n\n// Sad path! Use less stylish approach\nfunction SadMap() {\n  this.keys = []\n  this.values = []\n}\n\nSadMap.prototype.has = function (key) {\n  return this.keys.indexOf(key) !== -1\n}\n\nSadMap.prototype.set = function (key, value) {\n  const index = this.keys.indexOf(key)\n  if (index === -1) {\n    this.keys.push(key)\n    this.values.push(value)\n  } else {\n    this.values[index] = value\n  }\n  return this\n}\n\nSadMap.prototype.get = function (key) {\n  const index = this.keys.indexOf(key)\n  return index === -1 ? undefined : this.values[index]\n}\n\nSadMap.prototype.clear = function () {\n  this.keys = []\n  this.values = []\n}\n"]},"metadata":{},"sourceType":"script"}