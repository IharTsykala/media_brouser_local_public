{"ast":null,"code":"import { isHTMLElement, isHTMLAnchorElement, isHTMLInputElement, isHTMLButtonElement, isHTMLSelectElement, isHTMLTextAreaElement } from \"./element\";\n\nfunction _hasFocus(element) {\n  return Boolean(document.activeElement) && element.contains(document.activeElement);\n}\n\nfunction isFocusable(element) {\n  if (element.tabIndex > 0 || element.tabIndex === 0 && element.getAttribute(\"tabIndex\") !== null) {\n    return true;\n  }\n\n  if (isHTMLAnchorElement(element)) {\n    return Boolean(element.href) && element.rel !== \"ignore\";\n  }\n\n  if (isHTMLInputElement(element)) {\n    return element.type !== \"hidden\" && element.type !== \"file\" && !element.disabled;\n  }\n\n  if (isHTMLButtonElement(element) || isHTMLSelectElement(element) || isHTMLTextAreaElement(element)) {\n    return !element.disabled;\n  }\n\n  return false;\n}\n\nfunction attemptFocus(element) {\n  if (!isFocusable(element)) {\n    return false;\n  }\n\n  try {\n    element.focus();\n  } catch (_) {}\n\n  return document.activeElement === element;\n}\n\nfunction focusFirstDescendant(element) {\n  for (var i = 0; i < element.childNodes.length; i++) {\n    var child = element.childNodes[i];\n\n    if (isHTMLElement(child) && (attemptFocus(child) || focusFirstDescendant(child))) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction focusLastDescendant(element) {\n  for (var i = element.childNodes.length - 1; i >= 0; i--) {\n    var child = element.childNodes[i];\n\n    if (isHTMLElement(child) && (attemptFocus(child) || focusLastDescendant(child))) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport { _hasFocus, attemptFocus, focusFirstDescendant, focusLastDescendant, isFocusable };","map":{"version":3,"sources":["/home/ihartsykala/projects/playy/media_brouser_local_public/node_modules/@sanity/ui/lib/esm/helpers/focus.js"],"names":["isHTMLElement","isHTMLAnchorElement","isHTMLInputElement","isHTMLButtonElement","isHTMLSelectElement","isHTMLTextAreaElement","_hasFocus","element","Boolean","document","activeElement","contains","isFocusable","tabIndex","getAttribute","href","rel","type","disabled","attemptFocus","focus","_","focusFirstDescendant","i","childNodes","length","child","focusLastDescendant"],"mappings":"AAAA,SACEA,aADF,EAEEC,mBAFF,EAGEC,kBAHF,EAIEC,mBAJF,EAKEC,mBALF,EAMEC,qBANF,QAOO,WAPP;;AAQA,SAASC,SAAT,CAAmBC,OAAnB,EAA4B;AAC1B,SAAOC,OAAO,CAACC,QAAQ,CAACC,aAAV,CAAP,IAAmCH,OAAO,CAACI,QAAR,CAAiBF,QAAQ,CAACC,aAA1B,CAA1C;AACD;;AACD,SAASE,WAAT,CAAqBL,OAArB,EAA8B;AAC5B,MAAIA,OAAO,CAACM,QAAR,GAAmB,CAAnB,IAAwBN,OAAO,CAACM,QAAR,KAAqB,CAArB,IAA0BN,OAAO,CAACO,YAAR,CAAqB,UAArB,MAAqC,IAA3F,EAAiG;AAC/F,WAAO,IAAP;AACD;;AACD,MAAIb,mBAAmB,CAACM,OAAD,CAAvB,EAAkC;AAChC,WAAOC,OAAO,CAACD,OAAO,CAACQ,IAAT,CAAP,IAAyBR,OAAO,CAACS,GAAR,KAAgB,QAAhD;AACD;;AACD,MAAId,kBAAkB,CAACK,OAAD,CAAtB,EAAiC;AAC/B,WAAOA,OAAO,CAACU,IAAR,KAAiB,QAAjB,IAA6BV,OAAO,CAACU,IAAR,KAAiB,MAA9C,IAAwD,CAACV,OAAO,CAACW,QAAxE;AACD;;AACD,MAAIf,mBAAmB,CAACI,OAAD,CAAnB,IAAgCH,mBAAmB,CAACG,OAAD,CAAnD,IAAgEF,qBAAqB,CAACE,OAAD,CAAzF,EAAoG;AAClG,WAAO,CAACA,OAAO,CAACW,QAAhB;AACD;;AACD,SAAO,KAAP;AACD;;AACD,SAASC,YAAT,CAAsBZ,OAAtB,EAA+B;AAC7B,MAAI,CAACK,WAAW,CAACL,OAAD,CAAhB,EAA2B;AACzB,WAAO,KAAP;AACD;;AACD,MAAI;AACFA,IAAAA,OAAO,CAACa,KAAR;AACD,GAFD,CAEE,OAAOC,CAAP,EAAU,CACX;;AACD,SAAOZ,QAAQ,CAACC,aAAT,KAA2BH,OAAlC;AACD;;AACD,SAASe,oBAAT,CAA8Bf,OAA9B,EAAuC;AACrC,OAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,OAAO,CAACiB,UAAR,CAAmBC,MAAvC,EAA+CF,CAAC,EAAhD,EAAoD;AAClD,QAAMG,KAAK,GAAGnB,OAAO,CAACiB,UAAR,CAAmBD,CAAnB,CAAd;;AACA,QAAIvB,aAAa,CAAC0B,KAAD,CAAb,KAAyBP,YAAY,CAACO,KAAD,CAAZ,IAAuBJ,oBAAoB,CAACI,KAAD,CAApE,CAAJ,EAAkF;AAChF,aAAO,IAAP;AACD;AACF;;AACD,SAAO,KAAP;AACD;;AACD,SAASC,mBAAT,CAA6BpB,OAA7B,EAAsC;AACpC,OAAK,IAAIgB,CAAC,GAAGhB,OAAO,CAACiB,UAAR,CAAmBC,MAAnB,GAA4B,CAAzC,EAA4CF,CAAC,IAAI,CAAjD,EAAoDA,CAAC,EAArD,EAAyD;AACvD,QAAMG,KAAK,GAAGnB,OAAO,CAACiB,UAAR,CAAmBD,CAAnB,CAAd;;AACA,QAAIvB,aAAa,CAAC0B,KAAD,CAAb,KAAyBP,YAAY,CAACO,KAAD,CAAZ,IAAuBC,mBAAmB,CAACD,KAAD,CAAnE,CAAJ,EAAiF;AAC/E,aAAO,IAAP;AACD;AACF;;AACD,SAAO,KAAP;AACD;;AACD,SACEpB,SADF,EAEEa,YAFF,EAGEG,oBAHF,EAIEK,mBAJF,EAKEf,WALF","sourcesContent":["import {\n  isHTMLElement,\n  isHTMLAnchorElement,\n  isHTMLInputElement,\n  isHTMLButtonElement,\n  isHTMLSelectElement,\n  isHTMLTextAreaElement\n} from \"./element\";\nfunction _hasFocus(element) {\n  return Boolean(document.activeElement) && element.contains(document.activeElement);\n}\nfunction isFocusable(element) {\n  if (element.tabIndex > 0 || element.tabIndex === 0 && element.getAttribute(\"tabIndex\") !== null) {\n    return true;\n  }\n  if (isHTMLAnchorElement(element)) {\n    return Boolean(element.href) && element.rel !== \"ignore\";\n  }\n  if (isHTMLInputElement(element)) {\n    return element.type !== \"hidden\" && element.type !== \"file\" && !element.disabled;\n  }\n  if (isHTMLButtonElement(element) || isHTMLSelectElement(element) || isHTMLTextAreaElement(element)) {\n    return !element.disabled;\n  }\n  return false;\n}\nfunction attemptFocus(element) {\n  if (!isFocusable(element)) {\n    return false;\n  }\n  try {\n    element.focus();\n  } catch (_) {\n  }\n  return document.activeElement === element;\n}\nfunction focusFirstDescendant(element) {\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const child = element.childNodes[i];\n    if (isHTMLElement(child) && (attemptFocus(child) || focusFirstDescendant(child))) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction focusLastDescendant(element) {\n  for (let i = element.childNodes.length - 1; i >= 0; i--) {\n    const child = element.childNodes[i];\n    if (isHTMLElement(child) && (attemptFocus(child) || focusLastDescendant(child))) {\n      return true;\n    }\n  }\n  return false;\n}\nexport {\n  _hasFocus,\n  attemptFocus,\n  focusFirstDescendant,\n  focusLastDescendant,\n  isFocusable\n};\n"]},"metadata":{},"sourceType":"module"}