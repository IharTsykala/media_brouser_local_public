{"ast":null,"code":"const axios = require(\"axios\");\n\nconst hostApp = process.env.REACT_APP_HOST || \"https://api.vimeo.com\";\nconst hostVideo = process.env.REACT_VIDEO_HOST || \"https://api.vimeo.com\";\nconst userId = \"151396534\";\nconst accessToken = \"44c2627337c4ddb92f55eccd42e82229\";\nconst clientIdentifier = \"ad8e3f1947b97a05ec3e6c40ff2daee1c367901c\";\nexport default class videoService {}\n\nvideoService.getRedirectToAllowPageService = async () => {\n  window.location.href = `${hostApp}/oauth/authorize?response_type=code&client_id=${clientIdentifier}&redirect_uri=http://localhost:3000/&state=\"helloUser\"&scope=private`;\n};\n\nvideoService.getRedirectToVideoPageService = async (code, state) => {\n  const newAccessToken = await axios.post(`${hostApp}/oauth/access_token`, {\n    \"grant_type\": \"authorization_code\",\n    \"code\": code,\n    \"redirect_uri\": \"\"\n  }, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `bearer ${accessToken}`,\n      'Accept': 'application/vnd.vimeo.*+json;version=3.4'\n    }\n  });\n};\n\nvideoService.getNewAccessTokenService = async uriVideo => {// const newAccessToken = await axios.post(\n  //   `${host}/oauth/authorize/client`,\n  //   {\n  //     \"grant_type\": \"client_credentials\",\n  //     \"scope\": \"private purchased create edit delete interact upload promo_codes video_files scim public\"\n  //   },\n  //   {\n  //     headers: {\n  //       'Content-Type': 'application/json',\n  //       'Authorization': `bearer ${accessToken}`,\n  //       'Accept': 'application/vnd.vimeo.*+json;version=3.4',\n  //     },\n  //   }\n  // )\n  // console.log(1, newAccessToken.data)\n  // console.log(2, uriVideo)\n  // window.location.href = `${hostApp}/oauth/authorize?response_type=code&client_id=${clientIdentifier}&redirect_uri=http://localhost:3000/&state=\"helloUser\"&scope=private`;\n  // const redirectUser = await axios.get(\n  //   `${host}/oauth/authorize?response_type=code&client_id=${clientIdentifier}&redirect_uri=${uriVideo}&state=\"helloUser\"&scope=${newAccessToken.data.scope}`,\n  //   {\n  //     headers: {\n  //       'Content-Type': 'application/json',\n  //       // 'Authorization': `bearer ${accessToken}`,\n  //       'Accept': 'application/vnd.vimeo.*+json;version=3.4',\n  //     },\n  //   }\n  // )\n  //\n  // console.log(redirectUser)\n  // return newAccessToken.data\n};\n\nvideoService.getArrayVideoService = async () => {\n  const response = await axios.get(`${hostVideo}/users/${userId}/videos`, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `bearer ${accessToken}`,\n      'Accept': 'application/vnd.vimeo.*+json;version=3.4'\n    }\n  });\n  console.log(response);\n  return response.data;\n};\n\nvideoService.removeCardByIdService = async (id, newAccessToken) => {\n  const responseRemove = await axios.delete(`${hostVideo}${id}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `bearer ${newAccessToken}`,\n      'Accept': 'application/vnd.vimeo.*+json;version=3.4'\n    }\n  });\n  console.log(responseRemove); // return response.data\n};\n\nvideoService.editCardByIdService = async (id, newAccessToken) => {\n  const response = await axios.patch(`${hostVideo}${id}`, {}, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `bearer ${newAccessToken}`,\n      'Accept': 'application/vnd.vimeo.*+json;version=3.4'\n    }\n  });\n  console.log(response);\n  return response.data;\n};","map":{"version":3,"sources":["/home/ihartsykala/projects/playy/media_brouser_local_public/src/services/api/videoService.ts"],"names":["axios","require","hostApp","process","env","REACT_APP_HOST","hostVideo","REACT_VIDEO_HOST","userId","accessToken","clientIdentifier","videoService","getRedirectToAllowPageService","window","location","href","getRedirectToVideoPageService","code","state","newAccessToken","post","headers","getNewAccessTokenService","uriVideo","getArrayVideoService","response","get","console","log","data","removeCardByIdService","id","responseRemove","delete","editCardByIdService","patch"],"mappings":"AAEA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,cAAZ,IAA8B,uBAA9C;AACA,MAAMC,SAAS,GAAGH,OAAO,CAACC,GAAR,CAAYG,gBAAZ,IAAgC,uBAAlD;AAEA,MAAMC,MAAM,GAAG,WAAf;AACA,MAAMC,WAAW,GAAG,kCAApB;AACA,MAAMC,gBAAgB,GAAG,0CAAzB;AAEA,eAAe,MAAMC,YAAN,CAAmB;;AAAbA,Y,CAEZC,6B,GAAgC,YAAY;AACjDC,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,GAAEb,OAAQ,iDAAgDQ,gBAAiB,sEAAnG;AACD,C;;AAJkBC,Y,CAMZK,6B,GAAgC,OAAOC,IAAP,EAAqBC,KAArB,KAAuC;AAC5E,QAAMC,cAAc,GAAG,MAAMnB,KAAK,CAACoB,IAAN,CAC1B,GAAElB,OAAQ,qBADgB,EAE3B;AACE,kBAAc,oBADhB;AAEE,YAAQe,IAFV;AAGE,oBAAgB;AAHlB,GAF2B,EAO3B;AACEI,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAkB,UAASZ,WAAY,EAFhC;AAGP,gBAAU;AAHH;AADX,GAP2B,CAA7B;AAeD,C;;AAtBkBE,Y,CAwBZW,wB,GAA2B,MAAOC,QAAP,IAA4B,CAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,C;;AAvDkBZ,Y,CAyDVa,oB,GAAuB,YAAY;AACxC,QAAMC,QAAQ,GAAG,MAAMzB,KAAK,CAAC0B,GAAN,CACpB,GAAEpB,SAAU,UAASE,MAAO,SADR,EAErB;AACEa,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAkB,UAASZ,WAAY,EAFhC;AAGP,gBAAU;AAHH;AADX,GAFqB,CAAvB;AAUAkB,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,SAAOA,QAAQ,CAACI,IAAhB;AACD,C;;AAtEgBlB,Y,CAwEVmB,qB,GAAwB,OAAOC,EAAP,EAA4BZ,cAA5B,KAAuD;AAEpF,QAAMa,cAAc,GAAG,MAAMhC,KAAK,CAACiC,MAAN,CAC1B,GAAE3B,SAAU,GAAEyB,EAAG,EADS,EAE3B;AACEV,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAkB,UAASF,cAAe,EAFnC;AAGP,gBAAU;AAHH;AADX,GAF2B,CAA7B;AAUAQ,EAAAA,OAAO,CAACC,GAAR,CAAYI,cAAZ,EAZoF,CAapF;AACD,C;;AAtFgBrB,Y,CAwFRuB,mB,GAAsB,OAAOH,EAAP,EAA4BZ,cAA5B,KAAuD;AAClF,QAAMM,QAAQ,GAAG,MAAMzB,KAAK,CAACmC,KAAN,CACpB,GAAE7B,SAAU,GAAEyB,EAAG,EADG,EAErB,EAFqB,EAGrB;AACEV,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAkB,UAASF,cAAe,EAFnC;AAGP,gBAAU;AAHH;AADX,GAHqB,CAAvB;AAWAQ,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,SAAOA,QAAQ,CAACI,IAAhB;AACD,C","sourcesContent":["import { removeCardById } from \"../../Redux/store/video/video.actions\"\n\nconst axios = require(\"axios\")\nconst hostApp = process.env.REACT_APP_HOST || \"https://api.vimeo.com\"\nconst hostVideo = process.env.REACT_VIDEO_HOST || \"https://api.vimeo.com\"\n\nconst userId = \"151396534\"\nconst accessToken = \"44c2627337c4ddb92f55eccd42e82229\"\nconst clientIdentifier = \"ad8e3f1947b97a05ec3e6c40ff2daee1c367901c\"\n\nexport default class videoService {\n\n  static getRedirectToAllowPageService = async () => {\n    window.location.href = `${hostApp}/oauth/authorize?response_type=code&client_id=${clientIdentifier}&redirect_uri=http://localhost:3000/&state=\"helloUser\"&scope=private`;\n  }\n\n  static getRedirectToVideoPageService = async (code: string, state: string) => {\n    const newAccessToken = await axios.post(\n      `${hostApp}/oauth/access_token`,\n      {\n        \"grant_type\": \"authorization_code\",\n        \"code\": code,\n        \"redirect_uri\": \"\"\n      },\n      {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `bearer ${accessToken}`,\n          'Accept': 'application/vnd.vimeo.*+json;version=3.4',\n        },\n      }\n    )\n  }\n\n  static getNewAccessTokenService = async (uriVideo: string) => {\n    // const newAccessToken = await axios.post(\n    //   `${host}/oauth/authorize/client`,\n    //   {\n    //     \"grant_type\": \"client_credentials\",\n    //     \"scope\": \"private purchased create edit delete interact upload promo_codes video_files scim public\"\n    //   },\n    //   {\n    //     headers: {\n    //       'Content-Type': 'application/json',\n    //       'Authorization': `bearer ${accessToken}`,\n    //       'Accept': 'application/vnd.vimeo.*+json;version=3.4',\n    //     },\n    //   }\n    // )\n    // console.log(1, newAccessToken.data)\n    // console.log(2, uriVideo)\n    // window.location.href = `${hostApp}/oauth/authorize?response_type=code&client_id=${clientIdentifier}&redirect_uri=http://localhost:3000/&state=\"helloUser\"&scope=private`;\n    // const redirectUser = await axios.get(\n    //   `${host}/oauth/authorize?response_type=code&client_id=${clientIdentifier}&redirect_uri=${uriVideo}&state=\"helloUser\"&scope=${newAccessToken.data.scope}`,\n    //   {\n    //     headers: {\n    //       'Content-Type': 'application/json',\n    //       // 'Authorization': `bearer ${accessToken}`,\n    //       'Accept': 'application/vnd.vimeo.*+json;version=3.4',\n    //     },\n    //   }\n    // )\n    //\n    // console.log(redirectUser)\n    // return newAccessToken.data\n  }\n\n    static getArrayVideoService = async () => {\n      const response = await axios.get(\n        `${hostVideo}/users/${userId}/videos`,\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `bearer ${accessToken}`,\n            'Accept': 'application/vnd.vimeo.*+json;version=3.4',\n          },\n        }\n      )\n      console.log(response)\n      return response.data\n    }\n\n    static removeCardByIdService = async (id: string | number, newAccessToken: string) => {\n\n      const responseRemove = await axios.delete(\n        `${hostVideo}${id}`,\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `bearer ${newAccessToken}`,\n            'Accept': 'application/vnd.vimeo.*+json;version=3.4',\n          },\n        }\n      )\n      console.log(responseRemove)\n      // return response.data\n    }\n\n      static editCardByIdService = async (id: string | number, newAccessToken: string) => {\n        const response = await axios.patch(\n          `${hostVideo}${id}`,\n          {},\n          {\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `bearer ${newAccessToken}`,\n              'Accept': 'application/vnd.vimeo.*+json;version=3.4',\n            },\n          }\n        )\n        console.log(response)\n        return response.data\n      }\n}\n"]},"metadata":{},"sourceType":"module"}