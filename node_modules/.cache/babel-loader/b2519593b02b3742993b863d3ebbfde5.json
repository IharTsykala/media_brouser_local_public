{"ast":null,"code":"import _slicedToArray from\"/home/ihartsykala/projects/playy/media_brouser_local_public/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback,useEffect}from\"react\";import ContainerGalleryComponent from'../ContainerGalleryComponent/ContainerGalleryComponent';import ContainerSingleImgComponent from\"../ContainerSingleImgComponent/ContainerSingleImgComponent\";import{studioTheme,ThemeProvider,Grid}from'@sanity/ui';// @ts-ignore\nimport examplePic from\"../../assets/pictures/examplePic.png\";// @ts-ignore\nimport pict2 from\"../../assets/pictures/pict2.png\";// @ts-ignore\nimport pict3 from\"../../assets/pictures/pict3.png\";// @ts-ignore\nimport pict4 from\"../../assets/pictures/pict4.png\";import getContentCards,{getArrayBlobObjects,onUploadClick}from\"./contentCard\";import update from'immutability-helper';import{DndProvider}from'react-dnd';import{HTML5Backend}from'react-dnd-html5-backend';import{useDispatch}from\"react-redux\";import{getArrayVideo}from\"../../Redux/store/video/video.actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var singleImgArrAssets=[examplePic];var galleryImgArrAssets=[examplePic,pict2,pict3,pict4,examplePic,examplePic,examplePic,examplePic,examplePic];var ContainerMediaComponent=function ContainerMediaComponent(_ref){var namePage=_ref.namePage;var _useState=useState(getContentCards(singleImgArrAssets)),_useState2=_slicedToArray(_useState,2),singleArrayContentCard=_useState2[0],setSingleArrayContentCard=_useState2[1];var _useState3=useState(getContentCards(galleryImgArrAssets)),_useState4=_slicedToArray(_useState3,2),galleryArrayContentCard=_useState4[0],setGalleryArrayContentCard=_useState4[1];var dispatch=useDispatch();useEffect(function(){if(namePage===\"video-list\"){dispatch(getArrayVideo());}},[]);// for drag and drop in gallery without upload\nvar moveCard=useCallback(function(dragIndex,hoverIndex,arrayContentCard,setArrayContentCard){var dragCard=arrayContentCard[dragIndex];setArrayContentCard(update(arrayContentCard,{$splice:[[dragIndex,1],[hoverIndex,0,dragCard]]}));},[singleArrayContentCard,galleryArrayContentCard]);// for drag and drop upload\nvar handleUploadFileDrop=useCallback(function(inputTargetFiles,setArrayContentCard){if(inputTargetFiles===null||inputTargetFiles===void 0?void 0:inputTargetFiles.length){var files=getArrayBlobObjects(inputTargetFiles);setArrayContentCard(getContentCards(files));}},[singleArrayContentCard,galleryArrayContentCard]);return/*#__PURE__*/_jsxs(ThemeProvider,{theme:studioTheme,children:[(namePage===\"img-single\"||namePage===\"img-gallery\")&&/*#__PURE__*/_jsx(DndProvider,{backend:HTML5Backend,children:/*#__PURE__*/_jsxs(Grid,{className:\"container-img\",children:[namePage===\"img-single\"&&/*#__PURE__*/_jsx(ContainerSingleImgComponent,{singleArrayContentCard:singleArrayContentCard,setSingleArrayContentCard:setSingleArrayContentCard,onDrop:handleUploadFileDrop,onUploadClick:onUploadClick,onSelectClick:function onSelectClick(){}}),namePage===\"img-gallery\"&&/*#__PURE__*/_jsx(ContainerGalleryComponent,{galleryArrayContentCard:galleryArrayContentCard,setGalleryArrayContentCard:setGalleryArrayContentCard,moveCard:moveCard,onDrop:handleUploadFileDrop,onUploadClick:onUploadClick,onSelectClick:function onSelectClick(){},statusViewGalleryProp:\"bigImg\",namePage:namePage})]})}),namePage===\"video-list\"&&/*#__PURE__*/_jsx(ContainerGalleryComponent,{galleryArrayContentCard:galleryArrayContentCard,setGalleryArrayContentCard:setGalleryArrayContentCard,moveCard:moveCard,onDrop:handleUploadFileDrop,onUploadClick:onUploadClick,onSelectClick:function onSelectClick(){},statusViewGalleryProp:\"listImg\",namePage:namePage})]});};export default ContainerMediaComponent;","map":{"version":3,"sources":["/home/ihartsykala/projects/playy/media_brouser_local_public/src/components/ContainerMediaComponent/ContainerMediaComponent.tsx"],"names":["React","useState","useCallback","useEffect","ContainerGalleryComponent","ContainerSingleImgComponent","studioTheme","ThemeProvider","Grid","examplePic","pict2","pict3","pict4","getContentCards","getArrayBlobObjects","onUploadClick","update","DndProvider","HTML5Backend","useDispatch","getArrayVideo","singleImgArrAssets","galleryImgArrAssets","ContainerMediaComponent","namePage","singleArrayContentCard","setSingleArrayContentCard","galleryArrayContentCard","setGalleryArrayContentCard","dispatch","moveCard","dragIndex","hoverIndex","arrayContentCard","setArrayContentCard","dragCard","$splice","handleUploadFileDrop","inputTargetFiles","length","files"],"mappings":"kLAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,WAAzB,CAAsCC,SAAtC,KAAsD,OAAtD,CACA,MAAOC,CAAAA,yBAAP,KAAsC,wDAAtC,CACA,MAAOC,CAAAA,2BAAP,KAAwC,4DAAxC,CACA,OAASC,WAAT,CAAsBC,aAAtB,CAAqCC,IAArC,KAAgD,YAAhD,CACA;AACA,MAAOC,CAAAA,UAAP,KAAuB,sCAAvB,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,iCAAlB,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,iCAAlB,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,iCAAlB,CACA,MAAOC,CAAAA,eAAP,EAAmCC,mBAAnC,CAA8EC,aAA9E,KAAkG,eAAlG,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,WAAT,KAA4B,WAA5B,CACA,OAASC,YAAT,KAA6B,yBAA7B,CACA,OAAQC,WAAR,KAA0B,aAA1B,CACA,OAAQC,aAAR,KAA4B,uCAA5B,C,wFAEA,GAAMC,CAAAA,kBAAiC,CAAG,CAACZ,UAAD,CAA1C,CACA,GAAMa,CAAAA,mBAAkC,CACpC,CAACb,UAAD,CAAaC,KAAb,CAAoBC,KAApB,CACIC,KADJ,CACWH,UADX,CACuBA,UADvB,CAEAA,UAFA,CAEYA,UAFZ,CAEwBA,UAFxB,CADJ,CASA,GAAMc,CAAAA,uBAA4E,CAAG,QAA/EA,CAAAA,uBAA+E,MAAgB,IAAdC,CAAAA,QAAc,MAAdA,QAAc,CACjG,cAA4DvB,QAAQ,CAACY,eAAe,CAACQ,kBAAD,CAAhB,CAApE,wCAAOI,sBAAP,eAA+BC,yBAA/B,eACA,eAA8DzB,QAAQ,CAACY,eAAe,CAACS,mBAAD,CAAhB,CAAtE,yCAAOK,uBAAP,eAAgCC,0BAAhC,eAEA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAEAhB,SAAS,CAAC,UAAK,CACX,GAAGqB,QAAQ,GAAK,YAAhB,CAA8B,CAC1BK,QAAQ,CAACT,aAAa,EAAd,CAAR,CACH,CACJ,CAJQ,CAIN,EAJM,CAAT,CAMA;AACA,GAAMU,CAAAA,QAAQ,CAAG5B,WAAW,CACxB,SAAC6B,SAAD,CAAoBC,UAApB,CACCC,gBADD,CAC2CC,mBAD3C,CACqG,CACjG,GAAMC,CAAAA,QAAQ,CAAGF,gBAAgB,CAACF,SAAD,CAAjC,CAEAG,mBAAmB,CACflB,MAAM,CAACiB,gBAAD,CAAmB,CACrBG,OAAO,CAAE,CACL,CAACL,SAAD,CAAY,CAAZ,CADK,CAEL,CAACC,UAAD,CAAa,CAAb,CAAgBG,QAAhB,CAFK,CADY,CAAnB,CADS,CAAnB,CAQH,CAbuB,CAcxB,CAACV,sBAAD,CAAyBE,uBAAzB,CAdwB,CAA5B,CAiBA;AACA,GAAMU,CAAAA,oBAAoB,CAAGnC,WAAW,CACpC,SAACoC,gBAAD,CAAmBJ,mBAAnB,CAA6E,CACzE,GAAII,gBAAJ,SAAIA,gBAAJ,iBAAIA,gBAAgB,CAAEC,MAAtB,CAA8B,CAC1B,GAAMC,CAAAA,KAAK,CAAG1B,mBAAmB,CAACwB,gBAAD,CAAjC,CACAJ,mBAAmB,CAACrB,eAAe,CAAC2B,KAAD,CAAhB,CAAnB,CACH,CACJ,CANmC,CAOpC,CAACf,sBAAD,CAAyBE,uBAAzB,CAPoC,CAAxC,CAUA,mBACI,MAAC,aAAD,EAAe,KAAK,CAAErB,WAAtB,WACK,CAACkB,QAAQ,GAAK,YAAb,EAA6BA,QAAQ,GAAK,aAA3C,gBACD,KAAC,WAAD,EAAa,OAAO,CAAEN,YAAtB,uBACI,MAAC,IAAD,EAAM,SAAS,CAAE,eAAjB,WACKM,QAAQ,GAAK,YAAb,eAA6B,KAAC,2BAAD,EAC3B,sBAAsB,CAAEC,sBADG,CAE3B,yBAAyB,CAAEC,yBAFA,CAG3B,MAAM,CAAEW,oBAHmB,CAI3B,aAAa,CAAEtB,aAJY,CAK3B,aAAa,CAAE,wBAAI,CAAE,CALM,EADlC,CAQKS,QAAQ,GAAK,aAAb,eAA8B,KAAC,yBAAD,EAC3B,uBAAuB,CAAEG,uBADE,CAE3B,0BAA0B,CAAEC,0BAFD,CAG3B,QAAQ,CAAEE,QAHiB,CAI3B,MAAM,CAAEO,oBAJmB,CAK3B,aAAa,CAAEtB,aALY,CAM3B,aAAa,CAAE,wBAAI,CAAE,CANM,CAO3B,qBAAqB,CAAE,QAPI,CAQ3B,QAAQ,CAAES,QARiB,EARnC,GADJ,EAFJ,CAuBKA,QAAQ,GAAK,YAAb,eAA6B,KAAC,yBAAD,EAC1B,uBAAuB,CAAEG,uBADC,CAE1B,0BAA0B,CAAEC,0BAFF,CAG1B,QAAQ,CAAEE,QAHgB,CAI1B,MAAM,CAAEO,oBAJkB,CAK1B,aAAa,CAAEtB,aALW,CAM1B,aAAa,CAAE,wBAAI,CAAE,CANK,CAO1B,qBAAqB,CAAE,SAPG,CAQ1B,QAAQ,CAAES,QARgB,EAvBlC,GADJ,CAqCH,CA9ED,CAgFA,cAAeD,CAAAA,uBAAf","sourcesContent":["import React, {useState, useCallback, useEffect} from \"react\"\nimport ContainerGalleryComponent from '../ContainerGalleryComponent/ContainerGalleryComponent'\nimport ContainerSingleImgComponent from \"../ContainerSingleImgComponent/ContainerSingleImgComponent\"\nimport { studioTheme, ThemeProvider, Grid} from '@sanity/ui'\n// @ts-ignore\nimport examplePic from \"../../assets/pictures/examplePic.png\";\n// @ts-ignore\nimport pict2 from \"../../assets/pictures/pict2.png\";\n// @ts-ignore\nimport pict3 from \"../../assets/pictures/pict3.png\";\n// @ts-ignore\nimport pict4 from \"../../assets/pictures/pict4.png\";\nimport getContentCards, {Dispatch, getArrayBlobObjects, InterfaceContentCard, onUploadClick} from \"./contentCard\";\nimport update from 'immutability-helper'\nimport { DndProvider } from 'react-dnd'\nimport { HTML5Backend } from 'react-dnd-html5-backend'\nimport {useDispatch} from \"react-redux\";\nimport {getArrayVideo} from \"../../Redux/store/video/video.actions\";\n\nconst singleImgArrAssets: [string] | [] = [examplePic]\nconst galleryImgArrAssets: string[] | [] =\n    [examplePic, pict2, pict3,\n        pict4, examplePic, examplePic,\n    examplePic, examplePic, examplePic]\n\ntype ContainerImgComponentProps = {\n    namePage: string;\n}\n\nconst ContainerMediaComponent: React.FunctionComponent<ContainerImgComponentProps> = ({namePage}) => {\n    const [singleArrayContentCard, setSingleArrayContentCard] = useState(getContentCards(singleImgArrAssets))\n    const [galleryArrayContentCard, setGalleryArrayContentCard] = useState(getContentCards(galleryImgArrAssets))\n\n    const dispatch = useDispatch();\n\n    useEffect(()=> {\n        if(namePage === \"video-list\") {\n            dispatch(getArrayVideo())\n        }\n    }, [])\n\n    // for drag and drop in gallery without upload\n    const moveCard = useCallback(\n        (dragIndex: number, hoverIndex: number,\n         arrayContentCard: InterfaceContentCard[], setArrayContentCard: Dispatch<InterfaceContentCard[]>) => {\n            const dragCard = arrayContentCard[dragIndex]\n\n            setArrayContentCard(\n                update(arrayContentCard, {\n                    $splice: [\n                        [dragIndex, 1],\n                        [hoverIndex, 0, dragCard],\n                    ],\n                }),\n            )\n        },\n        [singleArrayContentCard, galleryArrayContentCard],\n    )\n\n    // for drag and drop upload\n    const handleUploadFileDrop = useCallback(\n        (inputTargetFiles, setArrayContentCard: Dispatch<InterfaceContentCard[]>) => {\n            if (inputTargetFiles?.length) {\n                const files = getArrayBlobObjects(inputTargetFiles)\n                setArrayContentCard(getContentCards(files))\n            }\n        },\n        [singleArrayContentCard, galleryArrayContentCard],\n    )\n\n    return (\n        <ThemeProvider theme={studioTheme}>\n            {(namePage === \"img-single\" || namePage === \"img-gallery\") &&\n            <DndProvider backend={HTML5Backend}>\n                <Grid className={\"container-img\"}>\n                    {namePage === \"img-single\" && <ContainerSingleImgComponent\n                       singleArrayContentCard={singleArrayContentCard}\n                       setSingleArrayContentCard={setSingleArrayContentCard}\n                       onDrop={handleUploadFileDrop}\n                       onUploadClick={onUploadClick}\n                       onSelectClick={()=>{}}\n                   />}\n                    {namePage === \"img-gallery\" && <ContainerGalleryComponent\n                        galleryArrayContentCard={galleryArrayContentCard}\n                        setGalleryArrayContentCard={setGalleryArrayContentCard}\n                        moveCard={moveCard}\n                        onDrop={handleUploadFileDrop}\n                        onUploadClick={onUploadClick}\n                        onSelectClick={()=>{}}\n                        statusViewGalleryProp={\"bigImg\"}\n                        namePage={namePage}\n                    />}\n                </Grid>\n        </DndProvider>}\n            {namePage === \"video-list\" && <ContainerGalleryComponent\n                galleryArrayContentCard={galleryArrayContentCard}\n                setGalleryArrayContentCard={setGalleryArrayContentCard}\n                moveCard={moveCard}\n                onDrop={handleUploadFileDrop}\n                onUploadClick={onUploadClick}\n                onSelectClick={()=>{}}\n                statusViewGalleryProp={\"listImg\"}\n                namePage={namePage}\n            />}\n</ThemeProvider>\n\n    )\n}\n\nexport default ContainerMediaComponent"]},"metadata":{},"sourceType":"module"}