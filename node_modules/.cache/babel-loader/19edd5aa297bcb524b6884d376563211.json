{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/ihartsykala/projects/playy/media_brouser_local_public/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _createForOfIteratorHelper from \"/home/ihartsykala/projects/playy/media_brouser_local_public/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\n\nvar _templateObject;\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues = function __spreadValues(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols) {\n    var _iterator = _createForOfIteratorHelper(__getOwnPropSymbols(b)),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var prop = _step.value;\n        if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  return a;\n};\n\nvar __spreadProps = function __spreadProps(a, b) {\n  return __defProps(a, __getOwnPropDescs(b));\n};\n\nvar __objRest = function __objRest(source, exclude) {\n  var target = {};\n\n  for (var prop in source) {\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n  }\n\n  if (source != null && __getOwnPropSymbols) {\n    var _iterator2 = _createForOfIteratorHelper(__getOwnPropSymbols(source)),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var prop = _step2.value;\n        if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return target;\n};\n\nimport { useId } from \"@reach/auto-id\";\nimport { ToggleArrowRightIcon } from \"@sanity/icons\";\nimport React, { createElement, useCallback, useEffect, useMemo, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { Box, Flex, Text } from \"../../primitives\";\nimport { treeItemRootStyle, treeItemRootColorStyle, treeItemBoxStyle } from \"./style\";\nimport { TreeContext } from \"./treeContext\";\nimport { TreeGroup } from \"./treeGroup\";\nimport { useTree } from \"./useTree\";\nvar Root = styled.li(treeItemRootStyle, treeItemRootColorStyle);\nvar TreeItemBox = styled(Box).attrs({\n  forwardedAs: \"a\"\n})(treeItemBoxStyle);\nvar ToggleArrowText = styled(Text)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  & > svg {\\n    transition: transform 100ms;\\n  }\\n\"])));\n\nfunction TreeItem(props) {\n  var _a = props,\n      children = _a.children,\n      _a$expanded = _a.expanded,\n      expandedProp = _a$expanded === void 0 ? false : _a$expanded,\n      fontSize = _a.fontSize,\n      href = _a.href,\n      icon = _a.icon,\n      idProp = _a.id,\n      muted = _a.muted,\n      onClick = _a.onClick,\n      _a$padding = _a.padding,\n      padding = _a$padding === void 0 ? 3 : _a$padding,\n      _a$selected = _a.selected,\n      selected = _a$selected === void 0 ? false : _a$selected,\n      _a$space = _a.space,\n      space = _a$space === void 0 ? 2 : _a$space,\n      text = _a.text,\n      weight = _a.weight,\n      restProps = __objRest(_a, [\"children\", \"expanded\", \"fontSize\", \"href\", \"icon\", \"id\", \"muted\", \"onClick\", \"padding\", \"selected\", \"space\", \"text\", \"weight\"]);\n\n  var rootRef = useRef(null);\n  var treeitemRef = useRef(null);\n  var tree = useTree();\n  var path = tree.path,\n      registerItem = tree.registerItem,\n      setExpanded = tree.setExpanded,\n      setFocusedElement = tree.setFocusedElement;\n  var id = useId(idProp) || idProp;\n  var itemPath = useMemo(function () {\n    return path.concat([id || \"\"]);\n  }, [id, path]);\n  var itemKey = itemPath.join(\"/\");\n  var itemState = tree.state[itemKey];\n  var focused = tree.focusedElement === rootRef.current;\n  var expanded = (itemState == null ? void 0 : itemState.expanded) === void 0 ? expandedProp : (itemState == null ? void 0 : itemState.expanded) || false;\n  var tabIndex = tree.focusedElement && tree.focusedElement === rootRef.current ? 0 : -1;\n  var contextValue = useMemo(function () {\n    return __spreadProps(__spreadValues({}, tree), {\n      level: tree.level + 1,\n      path: itemPath\n    });\n  }, [itemPath, tree]);\n  var handleClick = useCallback(function (event) {\n    if (onClick) onClick(event);\n    var target = event.target;\n\n    if (target instanceof HTMLElement && (target.getAttribute(\"data-ui\") === \"TreeItem__box\" || target.closest('[data-ui=\"TreeItem__box\"]'))) {\n      event.stopPropagation();\n      setExpanded(itemKey, !expanded);\n      setFocusedElement(rootRef.current);\n    }\n  }, [expanded, itemKey, onClick, setExpanded, setFocusedElement]);\n  var handleKeyDown = useCallback(function (event) {\n    if (focused && event.key === \"Enter\") {\n      var el = treeitemRef.current || rootRef.current;\n      el == null ? void 0 : el.click();\n    }\n  }, [focused]);\n  useEffect(function () {\n    if (!rootRef.current) return;\n    return registerItem(rootRef.current, itemPath.join(\"/\"), expanded, selected);\n  }, [expanded, itemPath, registerItem, selected]);\n  var content = /* @__PURE__ */React.createElement(Flex, {\n    padding: padding\n  }, /* @__PURE__ */React.createElement(Box, {\n    marginRight: space,\n    style: {\n      visibility: icon || children ? \"visible\" : \"hidden\",\n      pointerEvents: \"none\"\n    }\n  }, icon && /* @__PURE__ */React.createElement(Text, {\n    muted: muted,\n    size: fontSize,\n    weight: weight\n  }, createElement(icon)), !icon && /* @__PURE__ */React.createElement(ToggleArrowText, {\n    muted: muted,\n    size: fontSize,\n    weight: weight\n  }, /* @__PURE__ */React.createElement(ToggleArrowRightIcon, {\n    style: {\n      transform: expanded ? \"rotate(90deg)\" : void 0\n    }\n  }))), /* @__PURE__ */React.createElement(Box, {\n    flex: 1\n  }, /* @__PURE__ */React.createElement(Text, {\n    muted: muted,\n    size: fontSize,\n    textOverflow: \"ellipsis\",\n    weight: weight\n  }, text)));\n\n  if (href) {\n    return /* @__PURE__ */React.createElement(Root, __spreadProps(__spreadValues({\n      \"data-selected\": selected ? \"\" : void 0,\n      \"data-tree-id\": id,\n      \"data-tree-key\": itemKey,\n      \"data-ui\": \"TreeItem\"\n    }, restProps), {\n      onClick: handleClick,\n      ref: rootRef,\n      role: \"none\"\n    }), /* @__PURE__ */React.createElement(TreeItemBox, {\n      $level: tree.level,\n      \"aria-expanded\": expanded,\n      \"data-ui\": \"TreeItem__box\",\n      href: href,\n      ref: treeitemRef,\n      role: \"treeitem\",\n      tabIndex: tabIndex\n    }, content), /* @__PURE__ */React.createElement(TreeContext.Provider, {\n      value: contextValue\n    }, children && /* @__PURE__ */React.createElement(TreeGroup, {\n      hidden: !expanded\n    }, children)));\n  }\n\n  return /* @__PURE__ */React.createElement(Root, __spreadProps(__spreadValues({\n    \"data-selected\": selected ? \"\" : void 0,\n    \"data-ui\": \"TreeItem\",\n    \"data-tree-id\": id,\n    \"data-tree-key\": itemKey\n  }, restProps), {\n    \"aria-expanded\": expanded,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown,\n    ref: rootRef,\n    role: \"treeitem\",\n    tabIndex: tabIndex\n  }), /* @__PURE__ */React.createElement(TreeItemBox, {\n    $level: tree.level,\n    as: \"div\",\n    \"data-ui\": \"TreeItem__box\"\n  }, content), /* @__PURE__ */React.createElement(TreeContext.Provider, {\n    value: contextValue\n  }, children && /* @__PURE__ */React.createElement(TreeGroup, {\n    expanded: expanded\n  }, children)));\n}\n\nexport { TreeItem };","map":{"version":3,"sources":["/home/ihartsykala/projects/playy/media_brouser_local_public/node_modules/@sanity/ui/lib/esm/components/tree/treeItem.js"],"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","__objRest","source","exclude","target","indexOf","useId","ToggleArrowRightIcon","React","createElement","useCallback","useEffect","useMemo","useRef","styled","Box","Flex","Text","treeItemRootStyle","treeItemRootColorStyle","treeItemBoxStyle","TreeContext","TreeGroup","useTree","Root","li","TreeItemBox","attrs","forwardedAs","ToggleArrowText","TreeItem","props","_a","children","expanded","expandedProp","fontSize","href","icon","idProp","id","muted","onClick","padding","selected","space","text","weight","restProps","rootRef","treeitemRef","tree","path","registerItem","setExpanded","setFocusedElement","itemPath","concat","itemKey","join","itemState","state","focused","focusedElement","current","tabIndex","contextValue","level","handleClick","event","HTMLElement","getAttribute","closest","stopPropagation","handleKeyDown","el","click","content","marginRight","style","visibility","pointerEvents","size","transform","flex","textOverflow","ref","role","$level","Provider","hidden","onKeyDown","as"],"mappings":"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","sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nimport { useId } from \"@reach/auto-id\";\nimport { ToggleArrowRightIcon } from \"@sanity/icons\";\nimport React, { createElement, useCallback, useEffect, useMemo, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { Box, Flex, Text } from \"../../primitives\";\nimport {\n  treeItemRootStyle,\n  treeItemRootColorStyle,\n  treeItemBoxStyle\n} from \"./style\";\nimport { TreeContext } from \"./treeContext\";\nimport { TreeGroup } from \"./treeGroup\";\nimport { useTree } from \"./useTree\";\nconst Root = styled.li(treeItemRootStyle, treeItemRootColorStyle);\nconst TreeItemBox = styled(Box).attrs({ forwardedAs: \"a\" })(treeItemBoxStyle);\nconst ToggleArrowText = styled(Text)`\n  & > svg {\n    transition: transform 100ms;\n  }\n`;\nfunction TreeItem(props) {\n  const _a = props, {\n    children,\n    expanded: expandedProp = false,\n    fontSize,\n    href,\n    icon,\n    id: idProp,\n    muted,\n    onClick,\n    padding = 3,\n    selected = false,\n    space = 2,\n    text,\n    weight\n  } = _a, restProps = __objRest(_a, [\n    \"children\",\n    \"expanded\",\n    \"fontSize\",\n    \"href\",\n    \"icon\",\n    \"id\",\n    \"muted\",\n    \"onClick\",\n    \"padding\",\n    \"selected\",\n    \"space\",\n    \"text\",\n    \"weight\"\n  ]);\n  const rootRef = useRef(null);\n  const treeitemRef = useRef(null);\n  const tree = useTree();\n  const { path, registerItem, setExpanded, setFocusedElement } = tree;\n  const id = useId(idProp) || idProp;\n  const itemPath = useMemo(() => path.concat([id || \"\"]), [id, path]);\n  const itemKey = itemPath.join(\"/\");\n  const itemState = tree.state[itemKey];\n  const focused = tree.focusedElement === rootRef.current;\n  const expanded = (itemState == null ? void 0 : itemState.expanded) === void 0 ? expandedProp : (itemState == null ? void 0 : itemState.expanded) || false;\n  const tabIndex = tree.focusedElement && tree.focusedElement === rootRef.current ? 0 : -1;\n  const contextValue = useMemo(() => __spreadProps(__spreadValues({}, tree), { level: tree.level + 1, path: itemPath }), [itemPath, tree]);\n  const handleClick = useCallback((event) => {\n    if (onClick)\n      onClick(event);\n    const target = event.target;\n    if (target instanceof HTMLElement && (target.getAttribute(\"data-ui\") === \"TreeItem__box\" || target.closest('[data-ui=\"TreeItem__box\"]'))) {\n      event.stopPropagation();\n      setExpanded(itemKey, !expanded);\n      setFocusedElement(rootRef.current);\n    }\n  }, [expanded, itemKey, onClick, setExpanded, setFocusedElement]);\n  const handleKeyDown = useCallback((event) => {\n    if (focused && event.key === \"Enter\") {\n      const el = treeitemRef.current || rootRef.current;\n      el == null ? void 0 : el.click();\n    }\n  }, [focused]);\n  useEffect(() => {\n    if (!rootRef.current)\n      return;\n    return registerItem(rootRef.current, itemPath.join(\"/\"), expanded, selected);\n  }, [expanded, itemPath, registerItem, selected]);\n  const content = /* @__PURE__ */ React.createElement(Flex, {\n    padding\n  }, /* @__PURE__ */ React.createElement(Box, {\n    marginRight: space,\n    style: { visibility: icon || children ? \"visible\" : \"hidden\", pointerEvents: \"none\" }\n  }, icon && /* @__PURE__ */ React.createElement(Text, {\n    muted,\n    size: fontSize,\n    weight\n  }, createElement(icon)), !icon && /* @__PURE__ */ React.createElement(ToggleArrowText, {\n    muted,\n    size: fontSize,\n    weight\n  }, /* @__PURE__ */ React.createElement(ToggleArrowRightIcon, {\n    style: { transform: expanded ? \"rotate(90deg)\" : void 0 }\n  }))), /* @__PURE__ */ React.createElement(Box, {\n    flex: 1\n  }, /* @__PURE__ */ React.createElement(Text, {\n    muted,\n    size: fontSize,\n    textOverflow: \"ellipsis\",\n    weight\n  }, text)));\n  if (href) {\n    return /* @__PURE__ */ React.createElement(Root, __spreadProps(__spreadValues({\n      \"data-selected\": selected ? \"\" : void 0,\n      \"data-tree-id\": id,\n      \"data-tree-key\": itemKey,\n      \"data-ui\": \"TreeItem\"\n    }, restProps), {\n      onClick: handleClick,\n      ref: rootRef,\n      role: \"none\"\n    }), /* @__PURE__ */ React.createElement(TreeItemBox, {\n      $level: tree.level,\n      \"aria-expanded\": expanded,\n      \"data-ui\": \"TreeItem__box\",\n      href,\n      ref: treeitemRef,\n      role: \"treeitem\",\n      tabIndex\n    }, content), /* @__PURE__ */ React.createElement(TreeContext.Provider, {\n      value: contextValue\n    }, children && /* @__PURE__ */ React.createElement(TreeGroup, {\n      hidden: !expanded\n    }, children)));\n  }\n  return /* @__PURE__ */ React.createElement(Root, __spreadProps(__spreadValues({\n    \"data-selected\": selected ? \"\" : void 0,\n    \"data-ui\": \"TreeItem\",\n    \"data-tree-id\": id,\n    \"data-tree-key\": itemKey\n  }, restProps), {\n    \"aria-expanded\": expanded,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown,\n    ref: rootRef,\n    role: \"treeitem\",\n    tabIndex\n  }), /* @__PURE__ */ React.createElement(TreeItemBox, {\n    $level: tree.level,\n    as: \"div\",\n    \"data-ui\": \"TreeItem__box\"\n  }, content), /* @__PURE__ */ React.createElement(TreeContext.Provider, {\n    value: contextValue\n  }, children && /* @__PURE__ */ React.createElement(TreeGroup, {\n    expanded\n  }, children)));\n}\nexport {\n  TreeItem\n};\n"]},"metadata":{},"sourceType":"module"}